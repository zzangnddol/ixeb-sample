var msgBoxImagePath="";jQuery.msgBox=msg;
function msg(a){function q(){l&&(a.beforeClose(),b.animate({opacity:0,top:r-50,left:t},200),h.fadeOut(300),setTimeout(function(){b.remove();h.remove()},300),setTimeout(a.afterClose,300),$(window).unbind("resize"),l=!1)}function A(){var a=document;return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}var l=!1,d=typeof a,e={content:"string"==d?a:"Message",
title:"Warning",type:"alert",autoClose:!1,timeOut:0,modal:!1,showButtons:!0,buttons:[{value:"Ok"}],inputs:[{type:"text",name:"userName",header:"User Name"},{type:"password",name:"password",header:"Password"}],success:function(a){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){},opacity:.1};a="string"==d?e:a;if(null!=a.type)switch(a.type){case "alert":a.title=null==a.title?"Warning":a.title;break;case "info":a.title=null==a.title?"Information":a.title;
break;case "error":a.title=null==a.title?"Error":a.title;break;case "confirm":a.title=null==a.title?"Confirmation":a.title;a.buttons=null==a.buttons?[{value:"Yes"},{value:"No"},{value:"Cancel"}]:a.buttons;break;case "prompt":a.title=null==a.title?"Log In":a.title;a.buttons=null==a.buttons?[{value:"Login"},{value:"Cancel"}]:a.buttons;break;default:k="alert.png"}a.timeOut=null==a.timeOut?null==a.content?500:70*a.content.length:a.timeOut;a=$.extend({},e,a);a.autoClose&&setTimeout(q,a.timeOut);var k=
a.type,f="msgBox"+(new Date).getTime(),m=null!==navigator.userAgent.match(/msie 7/i)?"msgBoxContentIEOld":"msgBoxContent",g=f+"Content",d=f+"Image",e=f+"Buttons",n=f+"BackGround",u=f+"FirstButton",v="",w=!0;$(a.buttons).each(function(a,c){var b="";w&&(b=' id="'+u+'"',w=!1);v+='<input class="msgButton" type="button" name="'+c.value+'" value="'+c.value+'"'+b+"/>"});var p="";$(a.inputs).each(function(a,c){var b=c.type;p="checkbox"==b||"radiobutton"==b?p+('<div class="msgInput"><input type="'+c.type+
'" name="'+c.name+'" '+(null==c.checked?"":"checked ='"+c.checked+"'")+' value="'+("undefined"==typeof c.value?"":c.value)+'" /><text>'+c.header+"</text></div>"):p+('<div class="msgInput"><span class="msgInputHeader">'+c.header+'</span><input type="'+c.type+'" name="'+c.name+'" value="'+("undefined"==typeof c.value?"":c.value)+'" '+(" size='"+c.size+"' ")+(" maxlength='"+c.maxlength+"' ")+" /></div>")});var x='<div id="'+n+'" class="msgBoxBackGround"></div>',y='<div class="msgBoxTitle">'+a.title+
"</div>",m='<div class="msgBoxContainer"><div id="'+d+'" class="msgBoxImage '+k+'"></div><div id="'+g+'" class="'+m+'"><p><span>'+a.content+"</span></p></div></div>",z='<div id="'+e+'" class="msgBoxButtons">'+v+"</div>",k='<div class="msgBoxInputs">'+p+"</div>",b,h;"prompt"==a.type?($("body").append(x+'<div id="'+f+'" class="msgBox">'+y+"<div>"+m+(a.showButtons?z+"</div>":"</div>")+"</div>"),b=$("#"+f),g=$("#"+g),d=$("#"+d),e=$("#"+e),h=$("#"+n),d.remove(),e.css({"text-align":"center","margin-top":"5px"}),
g.css({width:"100%",height:"100%"}),g.html(k)):($("body").append(x+'<div id="'+f+'" class="msgBox">'+y+"<div>"+m+(a.showButtons?z+"</div>":"</div>")+"</div>"),b=$("#"+f),g=$("#"+g),d=$("#"+d),e=$("#"+e),h=$("#"+n));g.height("auto");var e=b.width(),d=b.height(),k=$(window).height(),g=$(window).width(),r=k/2-d/2,t=g/2-e/2;(function(){l||(b.css({opacity:0,top:r-50,left:t}),h.css({opacity:a.opacity}),a.beforeShow(),h.css({width:$(document).width(),height:A()}),$(f+","+n).fadeIn(0),b.animate({opacity:1,
top:r,left:t},200),setTimeout(a.afterShow,200),$("#"+u).focus(),l=!0,$(window).bind("resize",function(a){a=b.width();var c=b.height(),d=$(window).height(),e=$(window).width();b.css({top:d/2-c/2,left:e/2-a/2});h.css({width:"100%",height:"100%"})}))})();$("input.msgButton").click(function(b){b.preventDefault();b=$(this).val();if("prompt"!=a.type)a.success(b);else{var c=[];$("div.msgInput input").each(function(a,b){var d=$(this).attr("name"),e=$(this).val(),f=$(this).attr("type");"checkbox"==f||"radiobutton"==
f?c.push({name:d,value:e,checked:$(this).attr("checked")}):c.push({name:d,value:e})});a.success(b,c)}q()});h.click(function(d){a.modal||(!a.showButtons||a.showButtons&&2>a.buttons.length||a.autoClose?q():b.fadeOut(200).fadeIn(200))})};
