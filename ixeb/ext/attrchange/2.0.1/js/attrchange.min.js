(function(d){function k(){var b=document.createElement("p"),a=!1;if(b.addEventListener)b.addEventListener("DOMAttrModified",function(){a=!0},!1);else if(b.attachEvent)b.attachEvent("onDOMAttrModified",function(){a=!0});else return!1;b.setAttribute("id","target");return a}function l(b,a){if(b){var c=this.data("attr-old-value");if(0<=a.attributeName.indexOf("style")){c.style||(c.style={});var e=a.attributeName.split(".");a.attributeName=e[0];a.oldValue=c.style[e[1]];a.newValue=e[1]+":"+this.prop("style")[d.camelCase(e[1])];
c.style[e[1]]=a.newValue}else a.oldValue=c[a.attributeName],a.newValue=this.attr(a.attributeName),c[a.attributeName]=a.newValue;this.data("attr-old-value",c)}}var f=window.MutationObserver||window.WebKitMutationObserver;d.fn.attrchange=function(b,a){if("object"==typeof b){var c={trackValues:!1,callback:d.noop};"function"===typeof b?c.callback=b:d.extend(c,b);c.trackValues&&this.each(function(g,a){var c={},b;g=0;for(var e=a.attributes,f=e.length;g<f;g++)b=e.item(g),c[b.nodeName]=b.value;d(this).data("attr-old-value",
c)});if(f){var e={subtree:!1,attributes:!0,attributeOldValue:c.trackValues},h=new f(function(a){a.forEach(function(a){var b=a.target;c.trackValues&&(a.newValue=d(b).attr(a.attributeName));"undefined"===typeof d(this).data("attrchange-tdisconnect")&&c.callback.call(b,a)})});return this.data("attrchange-method","Mutation Observer").data("attrchange-obs",h).each(function(){h.observe(this,e)})}return k()?this.data("attrchange-method","DOMAttrModified").on("DOMAttrModified",function(a){a.originalEvent&&
(a=a.originalEvent);a.attributeName=a.attrName;a.oldValue=a.prevValue;"undefined"===typeof d(this).data("attrchange-tdisconnect")&&c.callback.call(this,a)}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").on("propertychange",function(a){a.attributeName=window.event.propertyName;l.call(d(this),c.trackValues,a);"undefined"===typeof d(this).data("attrchange-tdisconnect")&&c.callback.call(this,a)}):this}if("string"==typeof b&&d.fn.attrchange.hasOwnProperty("extensions")&&
d.fn.attrchange.extensions.hasOwnProperty(b))return d.fn.attrchange.extensions[b].call(this,a)}})(jQuery);
